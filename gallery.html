<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Gallery - Abel Olatunbosun</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#3B82F6',
                        'secondary': '#1E40AF',
                        'accent': '#10B981',
                        'dark': '#0F172A',
                        'darker': '#020617'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'display': ['Poppins', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="bg-dark text-white overflow-x-hidden">
    <!-- Navigation (injected) -->
    <div id="navbar-container"></div>

    <!-- Gallery Section -->
    <section class="py-12 lg:py-20 pt-20 lg:pt-32 bg-darker relative min-h-screen">
        <div class="container mx-auto px-4 lg:px-6">
            <!-- Header -->
            <div class="text-center mb-8 lg:mb-12">
                <h1 id="galleryTitle" class="text-3xl md:text-4xl lg:text-5xl font-display font-bold mb-4 text-gradient">
                    Project Gallery
                </h1>
                <p id="galleryDescription" class="text-gray-400 text-base lg:text-lg max-w-2xl mx-auto">
                    Explore the visual journey of this project
                </p>
            </div>

            <!-- Gallery Grid -->
            <div id="galleryGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8 mb-12">
                <!-- Gallery items will be loaded here -->
            </div>

            <!-- Gallery Actions -->
            <div class="text-center">
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button id="downloadAllBtn" class="inline-flex items-center px-6 py-3 bg-gradient-primary hover:shadow-lg hover:shadow-primary/25 rounded-lg font-medium transition-all">
                        <i data-feather="download" class="w-4 h-4 mr-2"></i>
                        Download All Images
                    </button>
                    <a href="portfolio.html" class="inline-flex items-center px-6 py-3 border border-accent/30 hover:bg-accent/10 rounded-lg font-medium transition-all">
                        <i data-feather="arrow-left" class="w-4 h-4 mr-2"></i>
                        Back to Portfolio
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Image Modal -->
    <div id="imageModal" class="fixed inset-0 bg-black/90 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="relative max-w-4xl w-full">
            <button id="closeModal" class="absolute -top-12 right-0 text-white hover:text-accent transition-colors">
                <i data-feather="x" class="w-8 h-8"></i>
            </button>
            <img id="modalImage" src="" alt="" class="w-full h-auto rounded-lg shadow-2xl">
            <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg">
                <h3 id="modalTitle" class="text-xl font-semibold text-white mb-2"></h3>
                <p id="modalDescription" class="text-gray-300 text-sm"></p>
                <button id="modalDownload" class="mt-4 inline-flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-all">
                    <i data-feather="download" class="w-4 h-4 mr-2"></i>
                    Download Image
                </button>
            </div>
        </div>
    </div>

    <!-- Footer (injected) -->
    <div id="footer-container"></div>

    <!-- Graphics Registry -->
    <script src="graphics-registry.js"></script>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load navbar
            fetch('navbar.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('navbar-container').innerHTML = html;
                    const path = window.location.pathname.split('/').pop();
                    document.querySelectorAll('.nav-link').forEach(link => {
                        if (link.getAttribute('href') === path) {
                            link.classList.add('active');
                        }
                    });
                    if (window.feather) feather.replace();
                    if (window.PortfolioApp && window.PortfolioApp.setupMobileMenu) {
                        window.PortfolioApp.setupMobileMenu();
                    }
                });

            // Load footer
            fetch('footer.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('footer-container').innerHTML = html;
                    if (window.feather) feather.replace();
                });

            // Initialize gallery
            initGallery();
        });

        function initGallery() {
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('project') || 'mobile-app';

            // Auto-load graphics design images from registry
            function autoLoadGraphicsImages() {
                // Get all graphics projects from the centralized registry
                const graphicsProjects = getAllGraphicsProjects();

                // Convert to gallery format
                return graphicsProjects.map(project => ({
                    src: project.image,
                    title: project.title,
                    description: project.description
                }));
            }

            // Project galleries with auto-detection
            const galleries = {
                'mobile-app': {
                    title: 'Mobile App Design Gallery',
                    description: 'UI/UX design screens and user interface elements',
                    images: [
                        { src: 'https://images.abelolatunbosun.com/mobile-app/screen-1.jpg', title: 'Login Screen', description: 'Clean and modern login interface' },
                        { src: 'https://images.abelolatunbosun.com/mobile-app/screen-2.jpg', title: 'Dashboard', description: 'User dashboard with analytics' },
                        { src: 'https://images.abelolatunbosun.com/mobile-app/screen-3.jpg', title: 'Profile Page', description: 'User profile management' },
                        { src: 'https://images.abelolatunbosun.com/mobile-app/screen-4.jpg', title: 'Settings', description: 'App settings and preferences' },
                        { src: 'https://images.abelolatunbosun.com/mobile-app/screen-5.jpg', title: 'Navigation', description: 'App navigation flow' },
                        { src: 'https://images.abelolatunbosun.com/mobile-app/screen-6.jpg', title: 'Components', description: 'UI component library' }
                    ]
                },
                'brand-identity': {
                    title: 'Brand Identity Gallery',
                    description: 'Logo designs, brand guidelines, and visual identity elements',
                    images: [
                        { src: 'https://images.abelolatunbosun.com/branding/logo-1.jpg', title: 'Primary Logo', description: 'Main brand logo design' },
                        { src: 'https://images.abelolatunbosun.com/branding/logo-2.jpg', title: 'Logo Variations', description: 'Different logo variations' },
                        { src: 'https://images.abelolatunbosun.com/branding/colors.jpg', title: 'Color Palette', description: 'Brand color guidelines' },
                        { src: 'https://images.abelolatunbosun.com/branding/typography.jpg', title: 'Typography', description: 'Brand typography system' },
                        { src: 'https://images.abelolatunbosun.com/branding/mockups.jpg', title: 'Brand Mockups', description: 'Brand application mockups' },
                        { src: 'https://images.abelolatunbosun.com/branding/guidelines.jpg', title: 'Brand Guidelines', description: 'Complete brand guidelines' }
                    ]
                },
                'graphics-design': {
                    title: 'Graphics Design Gallery',
                    description: 'Creative visual designs and graphic elements',
                    images: autoLoadGraphicsImages() // Auto-loaded from registry!
                }
            };

            const gallery = galleries[projectId] || galleries['mobile-app'];
            
            // Update page info
            document.getElementById('galleryTitle').textContent = gallery.title;
            document.getElementById('galleryDescription').textContent = gallery.description;
            
            // Load gallery images
            const galleryGrid = document.getElementById('galleryGrid');
            galleryGrid.innerHTML = '';
            
            gallery.images.forEach((image, index) => {
                const imageCard = document.createElement('div');
                imageCard.className = 'group relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl overflow-hidden hover:border-accent/30 transition-all duration-500 hover:shadow-xl hover:shadow-accent/10 cursor-pointer';
                imageCard.innerHTML = `
                    <div class="aspect-square bg-gradient-to-br from-gray-600 to-gray-800 flex items-center justify-center relative overflow-hidden">
                        <img src="${image.src}" alt="${image.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" loading="lazy">
                        <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center">
                            <div class="text-center">
                                <i data-feather="eye" class="w-8 h-8 text-white mx-auto mb-2"></i>
                                <p class="text-white font-medium">View Image</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="font-semibold text-white mb-1">${image.title}</h3>
                        <p class="text-sm text-gray-400">${image.description}</p>
                    </div>
                `;
                
                imageCard.addEventListener('click', () => openModal(image));
                galleryGrid.appendChild(imageCard);
            });
            
            // Download all functionality
            document.getElementById('downloadAllBtn').addEventListener('click', () => {
                gallery.images.forEach((image, index) => {
                    setTimeout(() => {
                        const link = document.createElement('a');
                        link.href = image.src;
                        link.download = `${projectId}-${index + 1}.jpg`;
                        link.click();
                    }, index * 500); // Stagger downloads
                });
            });
            
            // Modal functionality
            setupModal();
            
            // Re-initialize feather icons
            if (window.feather) feather.replace();
        }

        function openModal(image) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalDescription = document.getElementById('modalDescription');
            const modalDownload = document.getElementById('modalDownload');
            
            modalImage.src = image.src;
            modalImage.alt = image.title;
            modalTitle.textContent = image.title;
            modalDescription.textContent = image.description;
            
            modalDownload.onclick = () => {
                const link = document.createElement('a');
                link.href = image.src;
                link.download = `${image.title.toLowerCase().replace(/\s+/g, '-')}.jpg`;
                link.click();
            };
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            if (window.feather) feather.replace();
        }

        function setupModal() {
            const modal = document.getElementById('imageModal');
            const closeModal = document.getElementById('closeModal');
            
            closeModal.addEventListener('click', () => {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                    document.body.style.overflow = '';
                }
            });
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    modal.classList.add('hidden');
                    document.body.style.overflow = '';
                }
            });
        }
    </script>
</body>
</html>
